<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn Vietnamese - Free Online Vietnamese Lessons</title>
    <link rel="stylesheet" href="../css/start.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container">
        <!-- Left Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <h1>duolingo</h1>
            </div>
            <div class="nav-items">
                <div class="nav-item active">
                    <div class="nav-icon home-icon">
                        <img src="../static/images/play-button.png" alt="Learn">
                    </div>
                    <span class="nav-text">LEARN</span>
                </div>
                <div class="nav-item">
                    <div class="nav-icon">
                        <img src="../static/images/businessman-with-target.png" alt="Leaderboards">
                    </div>
                    <span class="nav-text">LEADERBOARDS</span>
                </div>
                <div class="nav-item">
                    <div class="nav-icon">
                        <img src="../static/images/treasure-chest.png" alt="Quests">
                    </div>
                    <span class="nav-text">QUESTS</span>
                </div>
                <div class="nav-item">
                    <div class="nav-icon">
                        <img src="../static/images/gem.png" alt="Shop">
                    </div>
                    <span class="nav-text">SHOP</span>
                </div>
                <div class="nav-item">
                    <div class="nav-icon">
                        <img src="../static/images/person.png" alt="Profile">
                    </div>
                    <span class="nav-text">PROFILE</span>
                </div>
                <div class="nav-item">
                    <div class="nav-icon more-icon">
                        <span>‚Ä¢‚Ä¢‚Ä¢</span>
                    </div>
                    <span class="nav-text">MORE</span>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="unit-cards-container" id="unitCardsContainer">
                <!-- Unit 1 -->
                <div class="unit-card">
                    <div class="lesson-header">
                        <div class="back-button">
                            <span class="back-arrow">‚Üê</span>
                        </div>
                        <div class="lesson-title">
                            <div class="section-title">SECTION 1, UNIT 1</div>
                            <h2>Introduce yourself</h2>
                        </div>
                        <div class="guidebook-button">
                            <img src="../static/images/book.png" alt="Guidebook"> GUIDEBOOK
                        </div>
                    </div>

                    <div class="lesson-path-container">
                        <div class="start-bubble">
                            START
                        </div>

                        <div class="lesson-path">
                            <div class="lesson-item active">
                                <div class="progress-ring"></div>
                                <div class="star-container">
                                    <img src="../static/images/star.png" alt="Star">
                                </div>
                            </div>

                            <div class="lesson-item locked">
                                <div class="progress-ring"></div>
                                <div class="star-container">
                                    <img src="../static/images/star.png" alt="Star">
                                </div>
                            </div>

                            <div class="lesson-item locked">
                                <div class="progress-ring"></div>
                                <div class="star-container">
                                    <img src="../static/images/star.png" alt="Star">
                                </div>
                            </div>

                            <div class="chest-item">
                                <div class="progress-ring"></div>
                                <img src="../static/images/treasure-chest.png" alt="Treasure Chest">
                            </div>

                            <div class="trophy-item">
                                <div class="progress-ring"></div>
                                <div class="trophy-container">
                                    <span>üèÜ</span>
                                </div>
                            </div>
                        </div>

                        <!-- Duo mascot -->
                        <div class="duo-mascot">
                            <img src="../static/images/bear.png" alt="bear">
                        </div>
                    </div>
                </div>

                <!-- Unit divider -->
                <div class="unit-divider">
                    <div class="divider-line"></div>
                    <div class="divider-text">Basic Greetings</div>
                    <div class="divider-line"></div>
                </div>

                <!-- This div will be populated by JavaScript with additional units -->
                <div id="additionalUnits"></div>

                <!-- Section Completion Card -->
                <div class="section-completion-card" id="sectionCompletionCard" style="display: none;">
                    <div class="up-next-button">UP NEXT</div>
                    <div class="section-header">
                        <div class="section-lock-icon">üîí</div>
                        <div class="section-title-large">Section 2</div>
                    </div>
                    <div class="section-description">
                        Learn words, phrases, and grammar concepts for basic interactions
                    </div>
                    <button class="jump-button">JUMP HERE?</button>
                </div>
            </div>
        </div>

        <!-- Right Sidebar -->
        <div class="right-sidebar">
            <!-- Stats -->
            <div class="stats-wrapper">
                <div class="stats">
                    <div class="stat-item flag">
                        <img src="../static/images/vietnam.png" alt="Flags">
                    </div>
                    <div class="stat-item streak">
                        <img src="../static/images/fire.png" alt="Streak">
                        <div class="count">1</div>
                    </div>
                    <div class="stat-item gems">
                        <img src="../static/images/gem.png" alt="Gems">
                        <div class="count">505</div>
                    </div>
                    <div class="stat-item hearts">
                        <img src="../static/images/heart.png" alt="Hearts">
                        <div class="count">4</div>
                    </div>
                </div>
            </div>

            <!-- Unlock Leaderboards -->
            <div class="sidebar-card">
                <h3>Unlock Leaderboards!</h3>
                <div class="leaderboard-content">
                    <div class="lock-icon">
                        <span>üîí</span>
                    </div>
                    <p>Complete 9 more lessons to start competing</p>
                </div>
            </div>

            <!-- Daily Quests -->
            <div class="sidebar-card">
                <div class="card-header">
                    <h3>Daily Quests</h3>
                    <span class="view-all">VIEW ALL</span>
                </div>
                <div class="quest-item">
                    <div class="quest-icon">‚ö°</div>
                    <div class="quest-details">
                        <p>Earn 10 XP</p>
                        <div class="progress-bar">
                            <div class="progress" style="width: 100%;"></div>
                            <div class="progress-text">10/10</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Create Profile -->
            <div class="sidebar-card">
                <h3>Create a profile to save your progress!</h3>
                <button class="btn btn-primary">CREATE A PROFILE</button>
                <button class="btn btn-secondary">SIGN IN</button>
            </div>
        </div>
    </div>

    <script>
        // Units data - Simulating units in Section 1
        const unitsData = [
            { unit: 2, title: "Basic Greetings" },
            { unit: 3, title: "Numbers & Counting" },
            { unit: 4, title: "Family Members" },
            { unit: 5, title: "Common Foods" },
            { unit: 6, title: "Daily Activities" },
            { unit: 7, title: "Colors & Objects" },
            { unit: 8, title: "Time & Calendar" },
            { unit: 9, title: "Places in Town" },
            { unit: 10, title: "Weather & Seasons" },
            { unit: 11, title: "Clothing" },
            { unit: 12, title: "Transportation" },
            { unit: 13, title: "Hobbies & Interests" },
            { unit: 14, title: "Home & Furniture" },
            { unit: 15, title: "Greet people" },
            { unit: 16, title: "Describe Animals" }
        ];

        // Variables to track loading
        let currentlyLoadedUnits = 0;
        const totalUnits = unitsData.length;
        const initialUnitsToLoad = 3;
        const unitsToLoadPerScroll = 3;

        // Function to create a unit card
        function createUnitCard(unitData) {
            const unitCard = document.createElement('div');
            unitCard.className = 'unit-card';

            // Determine if this unit is active, completed, or locked
            const status = unitData.unit === 2 ? 'active' : 'locked';

            unitCard.innerHTML = `
                <div class="lesson-header">
                    <div class="back-button">
                        <span class="back-arrow">‚Üê</span>
                    </div>
                    <div class="lesson-title">
                        <div class="section-title">SECTION 1, UNIT ${unitData.unit}</div>
                        <h2>${unitData.title}</h2>
                    </div>
                    <div class="guidebook-button">
                        <img src="../static/images/book.png" alt="Guidebook"> GUIDEBOOK
                    </div>
                </div>

                <div class="lesson-path-container">
                    <div class="start-bubble">
                        START
                    </div>

                    <div class="lesson-path">
                        <div class="lesson-item ${status}">
                            <div class="progress-ring"></div>
                            <div class="star-container">
                                <img src="../static/images/star.png" alt="Star">
                            </div>
                        </div>

                        <div class="lesson-item locked">
                            <div class="progress-ring"></div>
                            <div class="star-container">
                                <img src="../static/images/star.png" alt="Star">
                            </div>
                        </div>

                        <div class="lesson-item locked">
                            <div class="progress-ring"></div>
                            <div class="star-container">
                                <img src="../static/images/star.png" alt="Star">
                            </div>
                        </div>

                        <div class="chest-item">
                            <div class="progress-ring"></div>
                            <img src="../static/images/treasure-chest.png" alt="Treasure Chest">
                        </div>

                        <div class="trophy-item">
                            <div class="progress-ring"></div>
                            <div class="trophy-container">
                                <span>üèÜ</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            return unitCard;
        }

        // Function to create a unit divider
        function createUnitDivider(nextUnitTitle) {
            const divider = document.createElement('div');
            divider.className = 'unit-divider';
            divider.innerHTML = `
                <div class="divider-line"></div>
                <div class="divider-text">${nextUnitTitle}</div>
                <div class="divider-line"></div>
            `;
            return divider;
        }
        function adjustColor(hex, percent) {
            // Convert hex to RGB
            let r = parseInt(hex.substring(1, 3), 16);
            let g = parseInt(hex.substring(3, 5), 16);
            let b = parseInt(hex.substring(5, 7), 16);

            // Adjust color
            r = Math.max(0, Math.min(255, r + percent));
            g = Math.max(0, Math.min(255, g + percent));
            b = Math.max(0, Math.min(255, b + percent));

            // Convert back to hex
            return "#" +
                ((1 << 24) + (r << 16) + (g << 8) + b)
                    .toString(16).slice(1);
        }

        // Function to load more units
        function loadMoreUnits() {
            const additionalUnitsContainer = document.getElementById('additionalUnits');
            const startIndex = currentlyLoadedUnits;
            const endIndex = Math.min(currentlyLoadedUnits + unitsToLoadPerScroll, totalUnits);

            for (let i = startIndex; i < endIndex; i++) {
                const unitCard = createUnitCard(unitsData[i]);
                additionalUnitsContainer.appendChild(unitCard);

                // Add divider if this is not the last unit
                if (i < totalUnits - 1) {
                    const divider = createUnitDivider(unitsData[i + 1].title);
                    additionalUnitsContainer.appendChild(divider);
                }
            }

            currentlyLoadedUnits = endIndex;

            // Show section completion card if all units are loaded
            if (currentlyLoadedUnits >= totalUnits) {
                document.getElementById('sectionCompletionCard').style.display = 'block';
            }
        }

        // Load initial units
        function loadInitialUnits() {
            const initialUnits = Math.min(initialUnitsToLoad, totalUnits);
            const additionalUnitsContainer = document.getElementById('additionalUnits');

            for (let i = 0; i < initialUnits; i++) {
                const unitCard = createUnitCard(unitsData[i]);
                additionalUnitsContainer.appendChild(unitCard);

                // Add divider if this is not the last unit
                if (i < initialUnits - 1 && i < totalUnits - 1) {
                    const divider = createUnitDivider(unitsData[i + 1].title);
                    additionalUnitsContainer.appendChild(divider);
                }
            }
            currentlyLoadedUnits = initialUnits;

            // Add final divider for next unit if not at the end
            if (currentlyLoadedUnits < totalUnits) {
                const divider = createUnitDivider(unitsData[currentlyLoadedUnits].title);
                additionalUnitsContainer.appendChild(divider);
            }
        }

        // Scroll event listener to load more units
        window.addEventListener('scroll', () => {

            const scrollPosition = window.scrollY;
            const windowHeight = window.innerHeight;
            const documentHeight = document.documentElement.scrollHeight;

            if (documentHeight - (scrollPosition + windowHeight) < 300) {
                if (currentlyLoadedUnits < totalUnits) {
                    loadMoreUnits();
                }
            }
        });

        document.addEventListener('DOMContentLoaded', loadInitialUnits);
    </script>
</body>

</html>